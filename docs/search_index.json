{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["api","introduct"],"RPC/":["//","1)","1.","1.什么是rpc","2)","2.","2.demo","3)","3.","4.","5.","6.","=","addage,","call(serveraddr,","call)远程过程调用，简单的理解是一个节点请求另一个节点提供的服务.","callidmap","client端","id","id。","id到函数指针的映射call_id_map，可以用map","id，student（params）序列化，以二进制形式打包","procedur","rpc","rpc(remot","server端","student","student)","todo","在本地维护一个call","如果服务器调用成功，那么就将结果反序列化，并赋给student，年龄更新","客户端需要把本地参数传给远程函数，本地调用的过程中，直接压栈即可，但是在远程调用过程中不再同一个内存里，无法直接传递函数的参数，因此需要客户端把参数转换成字节流，传给服务端，然后服务端将字节流转换成自身能读取的格式，是一个序列化和反序列化的过程。","将call","将student结果序列化后通过网络返回给cli","将student（params）反序列化后，在本地调用addage()函数，得到结果","将这个调用映射为call","得到一个请求后，将其数据包反序列化，得到call","总结一下：","把2中得到的数据包发送给serveraddr，这需要使用网络传输层","数据准备好了之后，如何进行传输？网络传输层需要把调用的id和序列化后的参数传给服务端，然后把计算好的结果序列化传给客户端，因此tcp层即可完成上述过程。","本地过程调用：如果需要将本地student对象的age+1，可以实现一个addage()方法，将student对象传入，对年龄进行更新之后返回即可，本地方法调用的函数体通过函数指针来指定。","等待客户端请求","等待服务器返回结果","远程过程调用：上述操作的过程中，如果addage()这个方法在服务端，执行函数的函数体在远程机器上，如何告诉机器需要调用这个方法呢？","通过在callidmap中查找，得到相应的函数指针","首先客户端需要告诉服务器，需要调用的函数，这里函数和进程id存在一个映射，客户端远程调用时，需要查一下函数，找到对应的id，然后执行函数的代码。"]},"length":2},"tokenStore":{"root":{"1":{"docs":{},")":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.037037037037037035}},"什":{"docs":{},"么":{"docs":{},"是":{"docs":{},"r":{"docs":{},"p":{"docs":{},"c":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}},"2":{"docs":{},")":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.037037037037037035}},"d":{"docs":{},"e":{"docs":{},"m":{"docs":{},"o":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}},"3":{"docs":{},")":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.037037037037037035}}}},"4":{"docs":{},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.037037037037037035}}}},"5":{"docs":{},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.037037037037037035}}}},"6":{"docs":{},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}},"docs":{},"a":{"docs":{},"p":{"docs":{},"i":{"docs":{"./":{"ref":"./","tf":1}}}},"d":{"docs":{},"d":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},",":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}},"i":{"docs":{},"n":{"docs":{},"t":{"docs":{},"r":{"docs":{},"o":{"docs":{},"d":{"docs":{},"u":{"docs":{},"c":{"docs":{},"t":{"docs":{"./":{"ref":"./","tf":10}}}}}}}}}},"d":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}},"。":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}},"到":{"docs":{},"函":{"docs":{},"数":{"docs":{},"指":{"docs":{},"针":{"docs":{},"的":{"docs":{},"映":{"docs":{},"射":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"_":{"docs":{},"i":{"docs":{},"d":{"docs":{},"_":{"docs":{},"m":{"docs":{},"a":{"docs":{},"p":{"docs":{},"，":{"docs":{},"可":{"docs":{},"以":{"docs":{},"用":{"docs":{},"m":{"docs":{},"a":{"docs":{},"p":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}},"，":{"docs":{},"s":{"docs":{},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"（":{"docs":{},"p":{"docs":{},"a":{"docs":{},"r":{"docs":{},"a":{"docs":{},"m":{"docs":{},"s":{"docs":{},"）":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"，":{"docs":{},"以":{"docs":{},"二":{"docs":{},"进":{"docs":{},"制":{"docs":{},"形":{"docs":{},"式":{"docs":{},"打":{"docs":{},"包":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"/":{"docs":{},"/":{"docs":{"RPC/":{"ref":"RPC/","tf":0.05555555555555555}}}},"=":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"(":{"docs":{},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{},"a":{"docs":{},"d":{"docs":{},"d":{"docs":{},"r":{"docs":{},",":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}},")":{"docs":{},"远":{"docs":{},"程":{"docs":{},"过":{"docs":{},"程":{"docs":{},"调":{"docs":{},"用":{"docs":{},"，":{"docs":{},"简":{"docs":{},"单":{"docs":{},"的":{"docs":{},"理":{"docs":{},"解":{"docs":{},"是":{"docs":{},"一":{"docs":{},"个":{"docs":{},"节":{"docs":{},"点":{"docs":{},"请":{"docs":{},"求":{"docs":{},"另":{"docs":{},"一":{"docs":{},"个":{"docs":{},"节":{"docs":{},"点":{"docs":{},"提":{"docs":{},"供":{"docs":{},"的":{"docs":{},"服":{"docs":{},"务":{"docs":{},".":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"i":{"docs":{},"d":{"docs":{},"m":{"docs":{},"a":{"docs":{},"p":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}},"l":{"docs":{},"i":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"端":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}},"p":{"docs":{},"r":{"docs":{},"o":{"docs":{},"c":{"docs":{},"e":{"docs":{},"d":{"docs":{},"u":{"docs":{},"r":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}},"r":{"docs":{},"p":{"docs":{},"c":{"docs":{"RPC/":{"ref":"RPC/","tf":10.018518518518519}},"(":{"docs":{},"r":{"docs":{},"e":{"docs":{},"m":{"docs":{},"o":{"docs":{},"t":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{},"端":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{"RPC/":{"ref":"RPC/","tf":0.037037037037037035}},")":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}},"t":{"docs":{},"o":{"docs":{},"d":{"docs":{},"o":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}},"在":{"docs":{},"本":{"docs":{},"地":{"docs":{},"维":{"docs":{},"护":{"docs":{},"一":{"docs":{},"个":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}},"如":{"docs":{},"果":{"docs":{},"服":{"docs":{},"务":{"docs":{},"器":{"docs":{},"调":{"docs":{},"用":{"docs":{},"成":{"docs":{},"功":{"docs":{},"，":{"docs":{},"那":{"docs":{},"么":{"docs":{},"就":{"docs":{},"将":{"docs":{},"结":{"docs":{},"果":{"docs":{},"反":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"，":{"docs":{},"并":{"docs":{},"赋":{"docs":{},"给":{"docs":{},"s":{"docs":{},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"，":{"docs":{},"年":{"docs":{},"龄":{"docs":{},"更":{"docs":{},"新":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"客":{"docs":{},"户":{"docs":{},"端":{"docs":{},"需":{"docs":{},"要":{"docs":{},"把":{"docs":{},"本":{"docs":{},"地":{"docs":{},"参":{"docs":{},"数":{"docs":{},"传":{"docs":{},"给":{"docs":{},"远":{"docs":{},"程":{"docs":{},"函":{"docs":{},"数":{"docs":{},"，":{"docs":{},"本":{"docs":{},"地":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"过":{"docs":{},"程":{"docs":{},"中":{"docs":{},"，":{"docs":{},"直":{"docs":{},"接":{"docs":{},"压":{"docs":{},"栈":{"docs":{},"即":{"docs":{},"可":{"docs":{},"，":{"docs":{},"但":{"docs":{},"是":{"docs":{},"在":{"docs":{},"远":{"docs":{},"程":{"docs":{},"调":{"docs":{},"用":{"docs":{},"过":{"docs":{},"程":{"docs":{},"中":{"docs":{},"不":{"docs":{},"再":{"docs":{},"同":{"docs":{},"一":{"docs":{},"个":{"docs":{},"内":{"docs":{},"存":{"docs":{},"里":{"docs":{},"，":{"docs":{},"无":{"docs":{},"法":{"docs":{},"直":{"docs":{},"接":{"docs":{},"传":{"docs":{},"递":{"docs":{},"函":{"docs":{},"数":{"docs":{},"的":{"docs":{},"参":{"docs":{},"数":{"docs":{},"，":{"docs":{},"因":{"docs":{},"此":{"docs":{},"需":{"docs":{},"要":{"docs":{},"客":{"docs":{},"户":{"docs":{},"端":{"docs":{},"把":{"docs":{},"参":{"docs":{},"数":{"docs":{},"转":{"docs":{},"换":{"docs":{},"成":{"docs":{},"字":{"docs":{},"节":{"docs":{},"流":{"docs":{},"，":{"docs":{},"传":{"docs":{},"给":{"docs":{},"服":{"docs":{},"务":{"docs":{},"端":{"docs":{},"，":{"docs":{},"然":{"docs":{},"后":{"docs":{},"服":{"docs":{},"务":{"docs":{},"端":{"docs":{},"将":{"docs":{},"字":{"docs":{},"节":{"docs":{},"流":{"docs":{},"转":{"docs":{},"换":{"docs":{},"成":{"docs":{},"自":{"docs":{},"身":{"docs":{},"能":{"docs":{},"读":{"docs":{},"取":{"docs":{},"的":{"docs":{},"格":{"docs":{},"式":{"docs":{},"，":{"docs":{},"是":{"docs":{},"一":{"docs":{},"个":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"和":{"docs":{},"反":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"的":{"docs":{},"过":{"docs":{},"程":{"docs":{},"。":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"将":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}},"s":{"docs":{},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"结":{"docs":{},"果":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"后":{"docs":{},"通":{"docs":{},"过":{"docs":{},"网":{"docs":{},"络":{"docs":{},"返":{"docs":{},"回":{"docs":{},"给":{"docs":{},"c":{"docs":{},"l":{"docs":{},"i":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}},"（":{"docs":{},"p":{"docs":{},"a":{"docs":{},"r":{"docs":{},"a":{"docs":{},"m":{"docs":{},"s":{"docs":{},"）":{"docs":{},"反":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"后":{"docs":{},"，":{"docs":{},"在":{"docs":{},"本":{"docs":{},"地":{"docs":{},"调":{"docs":{},"用":{"docs":{},"a":{"docs":{},"d":{"docs":{},"d":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},"(":{"docs":{},")":{"docs":{},"函":{"docs":{},"数":{"docs":{},"，":{"docs":{},"得":{"docs":{},"到":{"docs":{},"结":{"docs":{},"果":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"这":{"docs":{},"个":{"docs":{},"调":{"docs":{},"用":{"docs":{},"映":{"docs":{},"射":{"docs":{},"为":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}},"得":{"docs":{},"到":{"docs":{},"一":{"docs":{},"个":{"docs":{},"请":{"docs":{},"求":{"docs":{},"后":{"docs":{},"，":{"docs":{},"将":{"docs":{},"其":{"docs":{},"数":{"docs":{},"据":{"docs":{},"包":{"docs":{},"反":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"，":{"docs":{},"得":{"docs":{},"到":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}},"总":{"docs":{},"结":{"docs":{},"一":{"docs":{},"下":{"docs":{},"：":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}},"把":{"2":{"docs":{},"中":{"docs":{},"得":{"docs":{},"到":{"docs":{},"的":{"docs":{},"数":{"docs":{},"据":{"docs":{},"包":{"docs":{},"发":{"docs":{},"送":{"docs":{},"给":{"docs":{},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{},"a":{"docs":{},"d":{"docs":{},"d":{"docs":{},"r":{"docs":{},"，":{"docs":{},"这":{"docs":{},"需":{"docs":{},"要":{"docs":{},"使":{"docs":{},"用":{"docs":{},"网":{"docs":{},"络":{"docs":{},"传":{"docs":{},"输":{"docs":{},"层":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}},"数":{"docs":{},"据":{"docs":{},"准":{"docs":{},"备":{"docs":{},"好":{"docs":{},"了":{"docs":{},"之":{"docs":{},"后":{"docs":{},"，":{"docs":{},"如":{"docs":{},"何":{"docs":{},"进":{"docs":{},"行":{"docs":{},"传":{"docs":{},"输":{"docs":{},"？":{"docs":{},"网":{"docs":{},"络":{"docs":{},"传":{"docs":{},"输":{"docs":{},"层":{"docs":{},"需":{"docs":{},"要":{"docs":{},"把":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"i":{"docs":{},"d":{"docs":{},"和":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"后":{"docs":{},"的":{"docs":{},"参":{"docs":{},"数":{"docs":{},"传":{"docs":{},"给":{"docs":{},"服":{"docs":{},"务":{"docs":{},"端":{"docs":{},"，":{"docs":{},"然":{"docs":{},"后":{"docs":{},"把":{"docs":{},"计":{"docs":{},"算":{"docs":{},"好":{"docs":{},"的":{"docs":{},"结":{"docs":{},"果":{"docs":{},"序":{"docs":{},"列":{"docs":{},"化":{"docs":{},"传":{"docs":{},"给":{"docs":{},"客":{"docs":{},"户":{"docs":{},"端":{"docs":{},"，":{"docs":{},"因":{"docs":{},"此":{"docs":{},"t":{"docs":{},"c":{"docs":{},"p":{"docs":{},"层":{"docs":{},"即":{"docs":{},"可":{"docs":{},"完":{"docs":{},"成":{"docs":{},"上":{"docs":{},"述":{"docs":{},"过":{"docs":{},"程":{"docs":{},"。":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"本":{"docs":{},"地":{"docs":{},"过":{"docs":{},"程":{"docs":{},"调":{"docs":{},"用":{"docs":{},"：":{"docs":{},"如":{"docs":{},"果":{"docs":{},"需":{"docs":{},"要":{"docs":{},"将":{"docs":{},"本":{"docs":{},"地":{"docs":{},"s":{"docs":{},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"对":{"docs":{},"象":{"docs":{},"的":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},"+":{"1":{"docs":{},"，":{"docs":{},"可":{"docs":{},"以":{"docs":{},"实":{"docs":{},"现":{"docs":{},"一":{"docs":{},"个":{"docs":{},"a":{"docs":{},"d":{"docs":{},"d":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},"(":{"docs":{},")":{"docs":{},"方":{"docs":{},"法":{"docs":{},"，":{"docs":{},"将":{"docs":{},"s":{"docs":{},"t":{"docs":{},"u":{"docs":{},"d":{"docs":{},"e":{"docs":{},"n":{"docs":{},"t":{"docs":{},"对":{"docs":{},"象":{"docs":{},"传":{"docs":{},"入":{"docs":{},"，":{"docs":{},"对":{"docs":{},"年":{"docs":{},"龄":{"docs":{},"进":{"docs":{},"行":{"docs":{},"更":{"docs":{},"新":{"docs":{},"之":{"docs":{},"后":{"docs":{},"返":{"docs":{},"回":{"docs":{},"即":{"docs":{},"可":{"docs":{},"，":{"docs":{},"本":{"docs":{},"地":{"docs":{},"方":{"docs":{},"法":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"函":{"docs":{},"数":{"docs":{},"体":{"docs":{},"通":{"docs":{},"过":{"docs":{},"函":{"docs":{},"数":{"docs":{},"指":{"docs":{},"针":{"docs":{},"来":{"docs":{},"指":{"docs":{},"定":{"docs":{},"。":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"docs":{}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"等":{"docs":{},"待":{"docs":{},"客":{"docs":{},"户":{"docs":{},"端":{"docs":{},"请":{"docs":{},"求":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}},"服":{"docs":{},"务":{"docs":{},"器":{"docs":{},"返":{"docs":{},"回":{"docs":{},"结":{"docs":{},"果":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}},"远":{"docs":{},"程":{"docs":{},"过":{"docs":{},"程":{"docs":{},"调":{"docs":{},"用":{"docs":{},"：":{"docs":{},"上":{"docs":{},"述":{"docs":{},"操":{"docs":{},"作":{"docs":{},"的":{"docs":{},"过":{"docs":{},"程":{"docs":{},"中":{"docs":{},"，":{"docs":{},"如":{"docs":{},"果":{"docs":{},"a":{"docs":{},"d":{"docs":{},"d":{"docs":{},"a":{"docs":{},"g":{"docs":{},"e":{"docs":{},"(":{"docs":{},")":{"docs":{},"这":{"docs":{},"个":{"docs":{},"方":{"docs":{},"法":{"docs":{},"在":{"docs":{},"服":{"docs":{},"务":{"docs":{},"端":{"docs":{},"，":{"docs":{},"执":{"docs":{},"行":{"docs":{},"函":{"docs":{},"数":{"docs":{},"的":{"docs":{},"函":{"docs":{},"数":{"docs":{},"体":{"docs":{},"在":{"docs":{},"远":{"docs":{},"程":{"docs":{},"机":{"docs":{},"器":{"docs":{},"上":{"docs":{},"，":{"docs":{},"如":{"docs":{},"何":{"docs":{},"告":{"docs":{},"诉":{"docs":{},"机":{"docs":{},"器":{"docs":{},"需":{"docs":{},"要":{"docs":{},"调":{"docs":{},"用":{"docs":{},"这":{"docs":{},"个":{"docs":{},"方":{"docs":{},"法":{"docs":{},"呢":{"docs":{},"？":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"通":{"docs":{},"过":{"docs":{},"在":{"docs":{},"c":{"docs":{},"a":{"docs":{},"l":{"docs":{},"l":{"docs":{},"i":{"docs":{},"d":{"docs":{},"m":{"docs":{},"a":{"docs":{},"p":{"docs":{},"中":{"docs":{},"查":{"docs":{},"找":{"docs":{},"，":{"docs":{},"得":{"docs":{},"到":{"docs":{},"相":{"docs":{},"应":{"docs":{},"的":{"docs":{},"函":{"docs":{},"数":{"docs":{},"指":{"docs":{},"针":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}},"首":{"docs":{},"先":{"docs":{},"客":{"docs":{},"户":{"docs":{},"端":{"docs":{},"需":{"docs":{},"要":{"docs":{},"告":{"docs":{},"诉":{"docs":{},"服":{"docs":{},"务":{"docs":{},"器":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"调":{"docs":{},"用":{"docs":{},"的":{"docs":{},"函":{"docs":{},"数":{"docs":{},"，":{"docs":{},"这":{"docs":{},"里":{"docs":{},"函":{"docs":{},"数":{"docs":{},"和":{"docs":{},"进":{"docs":{},"程":{"docs":{},"i":{"docs":{},"d":{"docs":{},"存":{"docs":{},"在":{"docs":{},"一":{"docs":{},"个":{"docs":{},"映":{"docs":{},"射":{"docs":{},"，":{"docs":{},"客":{"docs":{},"户":{"docs":{},"端":{"docs":{},"远":{"docs":{},"程":{"docs":{},"调":{"docs":{},"用":{"docs":{},"时":{"docs":{},"，":{"docs":{},"需":{"docs":{},"要":{"docs":{},"查":{"docs":{},"一":{"docs":{},"下":{"docs":{},"函":{"docs":{},"数":{"docs":{},"，":{"docs":{},"找":{"docs":{},"到":{"docs":{},"对":{"docs":{},"应":{"docs":{},"的":{"docs":{},"i":{"docs":{},"d":{"docs":{},"，":{"docs":{},"然":{"docs":{},"后":{"docs":{},"执":{"docs":{},"行":{"docs":{},"函":{"docs":{},"数":{"docs":{},"的":{"docs":{},"代":{"docs":{},"码":{"docs":{},"。":{"docs":{"RPC/":{"ref":"RPC/","tf":0.018518518518518517}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"length":48},"corpusTokens":["//","1)","1.","1.什么是rpc","2)","2.","2.demo","3)","3.","4.","5.","6.","=","addage,","api","call(serveraddr,","call)远程过程调用，简单的理解是一个节点请求另一个节点提供的服务.","callidmap","client端","id","id。","id到函数指针的映射call_id_map，可以用map","id，student（params）序列化，以二进制形式打包","introduct","procedur","rpc","rpc(remot","server端","student","student)","todo","在本地维护一个call","如果服务器调用成功，那么就将结果反序列化，并赋给student，年龄更新","客户端需要把本地参数传给远程函数，本地调用的过程中，直接压栈即可，但是在远程调用过程中不再同一个内存里，无法直接传递函数的参数，因此需要客户端把参数转换成字节流，传给服务端，然后服务端将字节流转换成自身能读取的格式，是一个序列化和反序列化的过程。","将call","将student结果序列化后通过网络返回给cli","将student（params）反序列化后，在本地调用addage()函数，得到结果","将这个调用映射为call","得到一个请求后，将其数据包反序列化，得到call","总结一下：","把2中得到的数据包发送给serveraddr，这需要使用网络传输层","数据准备好了之后，如何进行传输？网络传输层需要把调用的id和序列化后的参数传给服务端，然后把计算好的结果序列化传给客户端，因此tcp层即可完成上述过程。","本地过程调用：如果需要将本地student对象的age+1，可以实现一个addage()方法，将student对象传入，对年龄进行更新之后返回即可，本地方法调用的函数体通过函数指针来指定。","等待客户端请求","等待服务器返回结果","远程过程调用：上述操作的过程中，如果addage()这个方法在服务端，执行函数的函数体在远程机器上，如何告诉机器需要调用这个方法呢？","通过在callidmap中查找，得到相应的函数指针","首先客户端需要告诉服务器，需要调用的函数，这里函数和进程id存在一个映射，客户端远程调用时，需要查一下函数，找到对应的id，然后执行函数的代码。"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"Introduction","keywords":"","body":"API\n"},"RPC/":{"url":"RPC/","title":"RPC","keywords":"","body":"RPC\n1.什么是RPC\nRPC(Remote Procedure Call)远程过程调用，简单的理解是一个节点请求另一个节点提供的服务.\n本地过程调用：如果需要将本地student对象的age+1，可以实现一个addAge()方法，将student对象传入，对年龄进行更新之后返回即可，本地方法调用的函数体通过函数指针来指定。\n远程过程调用：上述操作的过程中，如果addAge()这个方法在服务端，执行函数的函数体在远程机器上，如何告诉机器需要调用这个方法呢？\n1) 首先客户端需要告诉服务器，需要调用的函数，这里函数和进程ID存在一个映射，客户端远程调用时，需要查一下函数，找到对应的ID，然后执行函数的代码。\n2) 客户端需要把本地参数传给远程函数，本地调用的过程中，直接压栈即可，但是在远程调用过程中不再同一个内存里，无法直接传递函数的参数，因此需要客户端把参数转换成字节流，传给服务端，然后服务端将字节流转换成自身能读取的格式，是一个序列化和反序列化的过程。\n3) 数据准备好了之后，如何进行传输？网络传输层需要把调用的ID和序列化后的参数传给服务端，然后把计算好的结果序列化传给客户端，因此TCP层即可完成上述过程。\n\n总结一下：\n// Client端 \n// Student student = Call(ServerAddr, addAge, student)\n1. 将这个调用映射为Call ID。\n2. 将Call ID，student（params）序列化，以二进制形式打包\n3. 把2中得到的数据包发送给ServerAddr，这需要使用网络传输层\n4. 等待服务器返回结果\n5. 如果服务器调用成功，那么就将结果反序列化，并赋给student，年龄更新\n\n// Server端\n1. 在本地维护一个Call ID到函数指针的映射call_id_map，可以用Map callIdMap\n2. 等待客户端请求\n3. 得到一个请求后，将其数据包反序列化，得到Call ID\n4. 通过在callIdMap中查找，得到相应的函数指针\n5. 将student（params）反序列化后，在本地调用addAge()函数，得到结果\n6. 将student结果序列化后通过网络返回给Client\n2.Demo\n\nTodo\n"}}}